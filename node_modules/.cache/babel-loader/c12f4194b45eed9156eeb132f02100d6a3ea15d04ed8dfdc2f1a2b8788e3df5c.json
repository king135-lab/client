{"ast":null,"code":"// src/components/JoinGame.js\nimport React,{useState,useEffect}from'react';import{useLocation,useNavigate}from'react-router-dom';import axios from'axios';import'./JoinGame.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const JoinGame=()=>{var _location$state;const navigate=useNavigate();const location=useLocation();const[playerName,setPlayerName]=useState(((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.playerName)||'');const[gameId,setGameId]=useState('');const[message,setMessage]=useState('');const[isJoining,setIsJoining]=useState(false);useEffect(()=>{if(!playerName){navigate('/');}},[playerName,navigate]);const handleJoinGame=async()=>{if(!gameId){alert('Please enter the game code');return;}setIsJoining(true);try{const response=await axios.post('http://localhost:5000/api/games/join',{gameId,playerName});const game=response.data.game;setMessage(response.data.message);if(game.players.length===2&&game.status==='waitingForSecret'){navigate(\"/\".concat(playerName,\"/setsecretcode/\").concat(gameId));}}catch(err){console.error('Error joining game:',err);setMessage('Error joining game. Please check the game code.');}finally{setIsJoining(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"join-game-container\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"nav-bar\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"logo\",children:[\"NUMBER\",/*#__PURE__*/_jsx(\"span\",{className:\"logo-accent\",children:\"POSITION\"})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"game-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"join-panel\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Join Existing Game\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"player-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"player-label\",children:\"Player Name:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"player-name\",children:playerName})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Game Code\",value:gameId,onChange:e=>setGameId(e.target.value),className:\"code-input\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn join-btn\",onClick:handleJoinGame,disabled:isJoining,children:isJoining?'Joining...':'Join Game'}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"alert \".concat(message.includes('Error')?'error':'info'),children:message})]})})}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"copyright\",children:[\"\\xA9 \",new Date().getFullYear(),\" Number Position Game. All rights reserved.\"]})})]});};export default JoinGame;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","JoinGame","_location$state","navigate","location","playerName","setPlayerName","state","gameId","setGameId","message","setMessage","isJoining","setIsJoining","handleJoinGame","alert","response","post","game","data","players","length","status","concat","err","console","error","className","children","type","placeholder","value","onChange","e","target","onClick","disabled","includes","Date","getFullYear"],"sources":["C:/Users/ademm/Documents/Projects/number-position-game/client/src/components/JoinGame.js"],"sourcesContent":["// src/components/JoinGame.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './JoinGame.css';\r\n\r\nconst JoinGame = () => {\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const [playerName, setPlayerName] = useState(location.state?.playerName || '');\r\n    const [gameId, setGameId] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [isJoining, setIsJoining] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!playerName) {\r\n            navigate('/');\r\n        }\r\n    }, [playerName, navigate]);\r\n\r\n    const handleJoinGame = async () => {\r\n        if (!gameId) {\r\n            alert('Please enter the game code');\r\n            return;\r\n        }\r\n        setIsJoining(true);\r\n        try {\r\n            const response = await axios.post('http://localhost:5000/api/games/join', { gameId, playerName });\r\n            const game = response.data.game;\r\n            setMessage(response.data.message);\r\n            if (game.players.length === 2 && game.status === 'waitingForSecret') {\r\n                navigate(`/${playerName}/setsecretcode/${gameId}`);\r\n            }\r\n        } catch (err) {\r\n            console.error('Error joining game:', err);\r\n            setMessage('Error joining game. Please check the game code.');\r\n        } finally {\r\n            setIsJoining(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"join-game-container\">\r\n            <nav className=\"nav-bar\">\r\n                <h1 className=\"logo\">NUMBER<span className=\"logo-accent\">POSITION</span></h1>\r\n            </nav>\r\n\r\n            <main className=\"main-content\">\r\n                <div className=\"game-card\">\r\n                    <div className=\"join-panel\">\r\n                        <h2>Join Existing Game</h2>\r\n                        <div className=\"player-info\">\r\n                            <span className=\"player-label\">Player Name:</span>\r\n                            <span className=\"player-name\">{playerName}</span>\r\n                        </div>\r\n\r\n                        <div className=\"input-group\">\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Enter Game Code\"\r\n                                value={gameId}\r\n                                onChange={(e) => setGameId(e.target.value)}\r\n                                className=\"code-input\"\r\n                            />\r\n                        </div>\r\n\r\n                        <button\r\n                            className=\"btn join-btn\"\r\n                            onClick={handleJoinGame}\r\n                            disabled={isJoining}\r\n                        >\r\n                            {isJoining ? 'Joining...' : 'Join Game'}\r\n                        </button>\r\n\r\n                        {message && (\r\n                            <div className={`alert ${message.includes('Error') ? 'error' : 'info'}`}>\r\n                                {message}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </main>\r\n\r\n            <footer className=\"footer\">\r\n                <p className=\"copyright\">\r\n                    Â© {new Date().getFullYear()} Number Position Game. All rights reserved.\r\n                </p>\r\n            </footer>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default JoinGame;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}