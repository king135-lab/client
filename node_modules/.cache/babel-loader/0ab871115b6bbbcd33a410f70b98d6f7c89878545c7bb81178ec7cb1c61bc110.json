{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import'./Leaderboard.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Leaderboard=()=>{const[leaders,setLeaders]=useState([]);const[loading,setLoading]=useState(true);const fetchLeaderboard=async()=>{try{const res=await axios.get('http://localhost:5000/api/users/leaderboard',{params:{t:Date.now()},headers:{'Cache-Control':'no-cache'}});setLeaders(res.data);setLoading(false);}catch(err){console.error('Error fetching leaderboard:',err);setLoading(false);}};useEffect(()=>{fetchLeaderboard();const interval=setInterval(fetchLeaderboard,5000);return()=>clearInterval(interval);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard-container\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"nav-bar\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"logo\",children:[\"NUMBER\",/*#__PURE__*/_jsx(\"span\",{className:\"logo-accent\",children:\"POSITION\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-links\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/how-to-play\",children:\"How to Play\"}),/*#__PURE__*/_jsx(Link,{to:\"/about\",children:\"About\"})]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"leaderboard-main\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Leaderboard\"}),/*#__PURE__*/_jsx(\"div\",{className:\"champion-section\",children:leaders.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"crown-icon\",children:\"\\uD83D\\uDC51\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"champion-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Current Champion\"}),/*#__PURE__*/_jsx(\"p\",{className:\"champion-name\",children:leaders[0].username}),/*#__PURE__*/_jsxs(\"div\",{className:\"champion-stats\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Wins: \",leaders[0].wins]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Losses: \",leaders[0].losses]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Draws: \",leaders[0].draws]})]})]})]})}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Initializing Leaderboard\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard-content\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"leaderboard-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Rank\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Wins\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Losses\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Draws\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total Games\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:leaders.map((user,index)=>{// Assign rank based on position\nlet rankClass='';if(index===0){rankClass='gold';// 1st place\n}else if(index===1){rankClass='platinum';// 2nd place\n}else if(index===2){rankClass='diamond';// 3rd place\n}return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:rankClass,children:[index+1,index===0&&/*#__PURE__*/_jsx(\"span\",{className:\"top-player-badge\"})]}),/*#__PURE__*/_jsx(\"td\",{children:user.username}),/*#__PURE__*/_jsx(\"td\",{children:user.wins}),/*#__PURE__*/_jsx(\"td\",{children:user.losses}),/*#__PURE__*/_jsx(\"td\",{children:user.draws}),/*#__PURE__*/_jsx(\"td\",{children:user.wins+user.losses+user.draws})]},user._id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"motivation-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Want to be the Champion?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Challenge yourself and climb to the top of the leaderboard! Every game counts towards your ranking. The more you play, the higher you can climb!\"}),/*#__PURE__*/_jsx(Link,{to:\"/create-game\",className:\"play-now-btn\",children:\"Play Now\"})]})]})]}),/*#__PURE__*/_jsxs(\"footer\",{className:\"footer\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"copyright\",children:[\"\\xA9 \",new Date().getFullYear(),\" Number Position Game. All rights reserved.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-links\",children:[/*#__PURE__*/_jsx(Link,{to:\"/privacy\",children:\"Privacy Policy\"}),/*#__PURE__*/_jsx(Link,{to:\"/terms\",children:\"Terms of Service\"})]})]})]});};export default Leaderboard;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Leaderboard","leaders","setLeaders","loading","setLoading","fetchLeaderboard","res","get","params","t","Date","now","headers","data","err","console","error","interval","setInterval","clearInterval","className","children","to","length","username","wins","losses","draws","map","user","index","rankClass","_id","getFullYear"],"sources":["C:/Users/ademm/Documents/Projects/number-position-game/client/src/components/Leaderboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './Leaderboard.css';\r\n\r\nconst Leaderboard = () => {\r\n    const [leaders, setLeaders] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const fetchLeaderboard = async () => {\r\n        try {\r\n            const res = await axios.get('http://localhost:5000/api/users/leaderboard', {\r\n                params: { t: Date.now() },\r\n                headers: { 'Cache-Control': 'no-cache' }\r\n            });\r\n            setLeaders(res.data);\r\n            setLoading(false);\r\n        } catch (err) {\r\n            console.error('Error fetching leaderboard:', err);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchLeaderboard();\r\n        const interval = setInterval(fetchLeaderboard, 5000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"leaderboard-container\">\r\n            {/* Navigation Bar */}\r\n            <nav className=\"nav-bar\">\r\n                <h1 className=\"logo\">\r\n                    NUMBER<span className=\"logo-accent\">POSITION</span>\r\n                </h1>\r\n                <div className=\"nav-links\">\r\n                    <Link to=\"/\">Home</Link>\r\n                    <Link to=\"/how-to-play\">How to Play</Link>\r\n                    <Link to=\"/about\">About</Link>\r\n                </div>\r\n            </nav>\r\n\r\n            {/* Main Content */}\r\n            <main className=\"leaderboard-main\">\r\n                <h2>Leaderboard</h2>\r\n                <div className=\"champion-section\">\r\n                    {leaders.length > 0 && (\r\n                        <>\r\n                            <div className=\"crown-icon\">ðŸ‘‘</div>\r\n                            <div className=\"champion-info\">\r\n                                <h3>Current Champion</h3>\r\n                                <p className=\"champion-name\">{leaders[0].username}</p>\r\n                                <div className=\"champion-stats\">\r\n                                    <span>Wins: {leaders[0].wins}</span>\r\n                                    <span>Losses: {leaders[0].losses}</span>\r\n                                    <span>Draws: {leaders[0].draws}</span>\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n\r\n                {loading ? (\r\n                    <div className=\"loading\">Initializing Leaderboard</div>\r\n                ) : (\r\n                    <div className=\"leaderboard-content\">\r\n                        <table className=\"leaderboard-table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Rank</th>\r\n                                    <th>Username</th>\r\n                                    <th>Wins</th>\r\n                                    <th>Losses</th>\r\n                                    <th>Draws</th>\r\n                                    <th>Total Games</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {leaders.map((user, index) => {\r\n                                    // Assign rank based on position\r\n                                    let rankClass = '';\r\n                                    if (index === 0) {\r\n                                        rankClass = 'gold'; // 1st place\r\n                                    } else if (index === 1) {\r\n                                        rankClass = 'platinum'; // 2nd place\r\n                                    } else if (index === 2) {\r\n                                        rankClass = 'diamond'; // 3rd place\r\n                                    }\r\n                                    return (\r\n                                        <tr key={user._id}>\r\n                                            <td className={rankClass}>\r\n                                                {index + 1}\r\n                                                {index === 0 && <span className=\"top-player-badge\"></span>}\r\n                                            </td>\r\n                                            <td>{user.username}</td>\r\n                                            <td>{user.wins}</td>\r\n                                            <td>{user.losses}</td>\r\n                                            <td>{user.draws}</td>\r\n                                            <td>{user.wins + user.losses + user.draws}</td>\r\n                                        </tr>\r\n                                    );\r\n                                })}\r\n                            </tbody>\r\n                        </table>\r\n\r\n                        <div className=\"motivation-section\">\r\n                            <h3>Want to be the Champion?</h3>\r\n                            <p>\r\n                                Challenge yourself and climb to the top of the leaderboard!\r\n                                Every game counts towards your ranking. The more you play,\r\n                                the higher you can climb!\r\n                            </p>\r\n                            <Link to=\"/create-game\" className=\"play-now-btn\">\r\n                                Play Now\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </main>\r\n\r\n            {/* Footer */}\r\n            <footer className=\"footer\">\r\n                <p className=\"copyright\">\r\n                    Â© {new Date().getFullYear()} Number Position Game. All rights reserved.\r\n                </p>\r\n                <div className=\"footer-links\">\r\n                    <Link to=\"/privacy\">Privacy Policy</Link>\r\n                    <Link to=\"/terms\">Terms of Service</Link>\r\n                </div>\r\n            </footer>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Leaderboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}